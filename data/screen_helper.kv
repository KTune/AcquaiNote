#:kivy 2.0.0

ScreenManager:
    name: 'screen_manager'
    LoadingScreen:
    HomeScreen:
    RoomScreen:
    SettingsScreen:
    ProfileScreen:


<LoadingScreen>:
    name: 'loading_screen'
    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        padding: 70

        MDLabel:
            text: "AcquaiNote"
            theme_text_color: 'Custom'
            text_color: (0.4, 0.4, 0.8, 1)
            font_style: 'H4'
            halign: 'center'
            italic: False
        Image:
            source: 'data/images/contact_image_b.png'


<HomeScreen>:
    name: 'home_screen'
    
    NavigationLayout:
        ScreenManager:
            Screen:                        
                BoxLayout:               
                    orientation: 'vertical'
                    spacing: '8dp'

                    MDToolbar:
                        title: 'AcquaiNote'
                        left_action_items: [['menu', lambda x: navigation.set_state('open')]]
                        right_action_items: [['search', app.search_bar]]
                        elevation: 10
                    
                    ScrollView:
                        MDList:
                            OneLineAvatarIconListItem:
                                text: 'Friend 1'
                                ImageLeftWidget: 
                                    source: 'data\images\contact_image.png'
                                IconRightWidget:    
                                    icon: 'dots-vertical'
                                    on_release: root.manager.current = 'profile_screen'
                                
        MDNavigationDrawer:
            id: navigation
            
            BoxLayout:
                orientation: 'vertical'
                spacing: '8dp'
                padding: '8dp'                           

                ScrollView:
                    MDList:
                        OneLineIconListItem:
                            text: 'Room'
                            on_release: root.manager.current = 'room_screen'
                            IconLeftWidget:
                                icon: 'theater'
                                on_release: root.manager.current = 'room_screen'
                                
                        OneLineIconListItem:
                            text: 'Settings'
                            on_release: root.manager.current = 'settings_screen'
                            IconLeftWidget:
                                icon: 'settings'
                                on_release: root.manager.current = 'settings_screen'

                        OneLineIconListItem:
                            text: 'Theme Manager'
                            on_release:
                                app.change_theme()
                            IconLeftWidget:
                                icon: 'theme-light-dark'
       
                    
<RoomScreen>:
    name: 'room_screen'

    MDLabel:
        text: 'Welcome to the Room Screen'
        halign: 'center'
        bold: True
        font_size: 50
    MDIconButton:
        icon: 'keyboard-backspace'
        pos_hint: {'center_x': 0.06, 'center_y': 0.96}
        on_release: root.manager.current = 'home_screen'
        size_hint: None, None


<SettingsScreen>:
    name: 'settings_screen'

    MDLabel:
        text: 'Welcome to the Settings Screen'
        halign: 'center'
        bold: True
        font_size: 50
    MDIconButton:
        icon: 'keyboard-backspace'
        pos_hint: {'center_x': 0.06, 'center_y': 0.96}
        on_release: root.manager.current = 'home_screen'
        size_hint: None, None

<ProfileScreen>:
    name: 'profile_screen'
    MDIconButton:
        icon: 'arrow-left'
        icon_color: app.theme_cls.primary_color
        pos_hint: {'center_x': 0.05, 'center_y': 0.95}
        on_release: 
            root.manager.transition.direction = "right"
            app.root.current = 'home_screen'


