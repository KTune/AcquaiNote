#:kivy 2.0.0

ScreenManager:
    name: 'screen_manager'
    LoadingScreen:
    HomeScreen:
    RoomScreen:
    SettingsScreen:
    ProfileScreen:
    NewEntryScreen:


<LoadingScreen>:
    name: 'loading_screen'
    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        padding: 70

        MDLabel:
            text: "AcquaiNote"
            theme_text_color: 'Custom'
            text_color: (0.4, 0.4, 0.8, 1)
            font_style: 'H4'
            halign: 'center'
            italic: False
        Image:
            source: 'data/images/contact_image_b.png'


<HomeScreen>:
    name: 'home_screen'
    
    NavigationLayout:
        ScreenManager:
            Screen:                        
                BoxLayout:               
                    orientation: 'vertical'
                    spacing: '8dp'

                    MDToolbar:
                        title: 'AcquaiNote'
                        left_action_items: [['menu', lambda x: navigation.set_state('open')]]
                        right_action_items: [['magnify', app.search_bar]]
                        elevation: 10
                    
                    ScrollView:
                        MDList:
                            id: home_list
                            TwoLineAvatarIconListItem:
                                text: 'Example entry'
                                on_release: root.manager.current = 'profile_screen'
                                ImageLeftWidget: 
                                    source: 'data\images\contact_image.png'
                                IconRightWidget:    
                                    icon: 'dots-vertical'
                    MDBottomAppBar:
                        MDToolbar:
                            id: 'main_bottom_toolbar'
                            type: 'bottom'
                            icon: 'plus-thick'
                            mode: 'end'
                            elevation: 10
                            on_action_button: root.manager.current = 'new_entry_screen'
                                
        MDNavigationDrawer:
            id: navigation
            
            BoxLayout:
                orientation: 'vertical'
                spacing: '8dp'
                padding: '8dp'                           

                ScrollView:
                    MDList:
                        OneLineIconListItem:
                            text: 'All'
                            on_release: root.manager.current = 'home_screen'
                            IconLeftWidget:
                                icon: 'folder'
                                on_release: root.manager.current = 'home_screen'

                        OneLineIconListItem:
                            text: 'Family'
                            on_release: root.manager.current = 'room_screen'
                            IconLeftWidget:
                                icon: 'folder'
                                on_release: root.manager.current = 'room_screen'
                        
                        OneLineIconListItem:
                            text: 'Best Friends'
                            on_release: root.manager.current = 'room_screen'
                            IconLeftWidget:
                                icon: 'folder'
                                on_release: root.manager.current = 'room_screen'

                        OneLineIconListItem:
                            text: 'Work'
                            on_release: root.manager.current = 'room_screen'
                            IconLeftWidget:
                                icon: 'folder'
                                on_release: root.manager.current = 'room_screen'

                        OneLineIconListItem:
                            text: 'University'
                            on_release: root.manager.current = 'room_screen'
                            IconLeftWidget:
                                icon: 'folder'
                                on_release: root.manager.current = 'room_screen'

                        OneLineIconListItem:
                            text: 'Settings'
                            on_release: root.manager.current = 'settings_screen'
                            IconLeftWidget:
                                icon: 'settings'
                                on_release: root.manager.current = 'settings_screen'

                        OneLineIconListItem:
                            text: 'Theme Manager'
                            on_release:
                                app.change_theme()
                            IconLeftWidget:
                                icon: 'theme-light-dark'
       
                    
<RoomScreen>:
    name: 'room_screen'

    MDLabel:
        text: 'Welcome to the Room Screen'
        halign: 'center'
        bold: True
        font_size: 50
    MDIconButton:
        icon: 'keyboard-backspace'
        pos_hint: {'center_x': 0.06, 'center_y': 0.96}
        on_release: root.manager.current = 'home_screen'
        size_hint: None, None


<SettingsScreen>:
    name: 'settings_screen'

    MDLabel:
        text: 'Welcome to the Settings Screen'
        halign: 'center'
        bold: True
        font_size: 50
    MDIconButton:
        icon: 'keyboard-backspace'
        pos_hint: {'center_x': 0.06, 'center_y': 0.96}
        on_release: 
            root.manager.current = 'home_screen'
        size_hint: None, None


<ProfileScreen>:
    name: 'profile_screen'
    MDIconButton:
        icon: 'keyboard-backspace'
        icon_color: app.theme_cls.primary_color
        pos_hint: {'center_x': 0.06, 'center_y': 0.96}
        on_release: 
            root.manager.current = 'home_screen'


<NewEntryScreen>:
    name: 'new_entry_screen'
    MDIconButton:
        icon: 'arrow-left'
        icon_color: app.theme_cls.primary_color
        pos_hint: {'center_x': 0.06, 'center_y': 0.96}
        on_release: 
            root.manager.current = 'home_screen'

    MDFillRoundFlatButton:
        text: 'Add'
        pos_hint: {'center_x': 0.5, 'center_y': 0.06}
        on_release: 
            app.add_new_entry()
            root.manager.current = 'home_screen'






